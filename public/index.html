<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>龜馬山 goLine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/common.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div>
                <h1>🏯 goLine</h1>
                <p class="subtitle">紫皇天乙真慶宮</p>
            </div>
            <button id="logoutBtn" class="btn-logout" style="display: none;">登出</button>
        </header>

        <main class="main-content">
            <div id="userInfo" class="user-info" style="display: none;">
                <img id="userAvatar" class="user-avatar" alt="使用者頭像">
                <div class="user-details">
                    <h3 id="userName"></h3>
                    <div id="userRoles" class="user-roles"></div>
                </div>
            </div>

            <div id="loginCard" class="welcome-card">
                <h2>歡迎</h2>
                <p style="color: #6B5D4F; margin-bottom: 2rem;">請使用 LINE 帳號登入系統</p>
                <button id="lineLoginBtn" class="btn btn-primary">
                    LINE 登入
                </button>
            </div>

            <div id="moduleGrid" class="module-grid">
                <div class="module-card" data-module="checkin">
                    <div class="module-icon">🏛️</div>
                    <div class="module-title">奉香簽到</div>
                    <div class="module-desc">GPS 定位簽到系統</div>
                </div>
                
                <div class="module-card" data-module="service">
                    <div class="module-icon">🙏</div>
                    <div class="module-title">神務服務</div>
                    <div class="module-desc">法會報名與服務管理</div>
                </div>
                
                <div class="module-card" data-module="schedule">
                    <div class="module-icon">📅</div>
                    <div class="module-title">排班系統</div>
                    <div class="module-desc">志工排班與出勤統計</div>
                </div>
                
                <div class="module-card" data-module="manage">
                    <div class="module-icon">⚙️</div>
                    <div class="module-title">系統管理</div>
                    <div class="module-desc">後台管理功能</div>
                </div>
            </div>

            <div id="loadingIndicator" class="loading hidden">
                <div class="spinner"></div>
                <p>登入中...</p>
            </div>
        </main>

        <div class="bottom-nav">
            <div class="bottom-nav-items">
                <a href="/" class="bottom-nav-item active">
                    <span class="icon">🏠</span>
                    <span>首頁</span>
                </a>
                <a href="/checkin/index.html" class="bottom-nav-item">
                    <span class="icon">⛩️</span>
                    <span>簽到</span>
                </a>
                <a href="/checkin/history.html" class="bottom-nav-item">
                    <span class="icon">📋</span>
                    <span>歷程表</span>
                </a>
                <a href="/manage/index.html" class="bottom-nav-item">
                    <span class="icon">🔔</span>
                    <span>通知中心</span>
                </a>
            </div>
        </div>
    </div>

    <script type="module" src="/js/firebase-init.js"></script>
    <script type="module" src="/js/auth.js"></script>
</body>
</html>
