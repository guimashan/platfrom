---
Document ID: DOC-UI-03
Version: 1.0-internal
Last Updated: 2025-10-30
Maintainer: guimashan-dev
Visibility: internal-only
---

# 龜馬山 goLine 平台  
## 介面與使用者體驗設計 (UI / UX)

本文件定義「龜馬山 goLine 平台」前端畫面結構、導覽流程與互動邏輯，供前端開發、設計與測試參考。  

---

## 1. 設計原則

| 原則 | 說明 |
|------|------|
| **清晰導覽** | 以角色導向導覽結構，登入後即顯示對應模組首頁。 |
| **手機優先 (Mobile First)** | 主要使用場景為手機操作（GPS、簽到、表單）。 |
| **一致體驗** | 所有模組統一字型、配色、按鈕風格。 |
| **明確回饋** | 所有操作（提交、錯誤、成功）都需即時提示。 |
| **無障礙設計** | 字體大小、對比符合一般視覺使用者需求。 |

---

## 2. 使用者角色與導覽行為

| 角色 | 導向頁面 | 權限概要 |
|------|------------|-----------|
| **user** | `/checkin/index.html` | 奉香簽到、查詢個人紀錄 |
| **poweruser** | `/service/index.html` | 神服服務、法會報名 |
| **admin** | `/admin/index.html` | 管理簽到點、審核神服申請、管理班表 |
| **superadmin** | `/admin/dashboard.html` | 系統設定、角色管理、公告發布 |

> 登入後由 `Platform` 模組判斷角色後導向對應路徑。  

---

## 3. 導覽架構與 URL Map

整體前端導覽架構如下：  

```text
/
├── login.html              (平台層登入)
├── checkin/
│   ├── index.html          (簽到首頁)
│   ├── history.html        (簽到紀錄)
│   └── admin.html          (巡邏點管理)
├── service/
│   ├── index.html          (神服服務主頁)
│   ├── apply.html          (報名 / 香油錢)
│   └── admin.html          (服務單審核)
├── schedule/
│   ├── index.html          (排班列表)
│   ├── detail.html         (班表詳情)
│   └── admin.html          (出勤審核)
└── admin/
    ├── index.html          (系統後台首頁)
    ├── users.html          (使用者管理)
    └── dashboard.html      (總覽儀表板)
   ``` 
## **4. 頁面規劃與互動重點**
### **4.1 奉香簽到 (checkin)**
| **元件** | **功能**                         | **備註**         |
| ------ | ------------------------------ | -------------- |
| 簽到按鈕   | 呼叫 GPS，向 Cloud Function 傳送座標驗證 | 成功後顯示距離與時間     |
| 簽到紀錄表  | 顯示時間、巡邏點、距離                    | 資料來源：checkins/ |
| 錯誤提示   | 顯示「超出範圍」或「定位失敗」                | 需即時 Toast 提示   |
### **4.2 神服服務 (service)**
| **元件** | **功能**                        | **備註**                 |
| ------ | ----------------------------- | ---------------------- |
| 表單欄位   | 填寫申請人姓名、願望、金額、備註              | 寫入 Firestore services/ |
| 狀態顯示   | pending / approved / rejected | 僅後台可改狀態                |
| 檔案上傳   | 若有收據或附件                       | 🔴決定是否開啟 Storage 功能    |
### **4.3 排班系統 (schedule)**
| **元件** | **功能**     | **備註**           |
| ------ | ---------- | ---------------- |
| 月曆檢視   | 顯示志工排班     | 來源：schedules/    |
| 出勤統計   | 顯示當月工時、出勤率 | 自動由 Functions 計算 |
| 管理功能   | 新增 / 刪除班表  | 需 admin 權限       |
### **4.4 管理後台 (admin)**
| **元件** | **功能**                       | **備註**                           |
| ------ | ---------------------------- | -------------------------------- |
| 使用者列表  | 顯示所有 users/                  | 只有 admin / superadmin 可見         |
| 角色調整   | 呼叫 updateUserRole() Function | 欄位：targetUserId, newRole         |
| 公告管理   | 可建立全域公告                      | 儲存於 platform-bc783/globalConfig/ |
## **5. UI 樣式與元件統一規範**
| **元件類型** | **規範**                    |
| -------- | ------------------------- |
| 字型       | Noto Sans TC / 思源黑體       |
| 主色系      | 紫紅 (#8A2BE2)、金色 (#FFD700) |
| 副色系      | 白 (#FFFFFF)、灰 (#F5F5F5)   |
| 按鈕樣式     | 圓角 12px、陰影 2px、hover 顯色   |
| 成功提示     | 綠色 (#2ECC71)              |
| 錯誤提示     | 紅色 (#E74C3C)              |
| 警告提示     | 黃色 (#F1C40F)              |
## **6. 前端資料綁定與 API 對應**
| **頁面**              | **觸發事件** | **呼叫 API / Function**   | **回傳資料**       |
| ------------------- | -------- | ----------------------- | -------------- |
| checkin/index.html  | 按下「簽到」   | verifyCheckinDistance() | {ok, distance} |
| service/apply.html  | 送出表單     | services.add()          | {ok}           |
| schedule/admin.html | 修改班表     | schedules.update()      | {ok}           |
| admin/users.html    | 更新角色     | updateUserRole()        | {ok}           |
## **7. 響應式設計與設備相容性**
|**設備**|**介面配置**|**備註**|
|---|---|---|
|手機 (375px~430px)|垂直捲動，主要操作區域集中於下半部|GPS / 表單操作|
|平板 (768px~1024px)|雙欄介面，左側導覽右側內容|排班、統計頁|
|桌機 (>1280px)|三欄介面或彈出視窗|管理後台操作|
## **8. 使用者體驗流程圖（摘要）**
```
登入 (LINE) → 角色判斷
    ├─ user → checkin/index.html → GPS 簽到 → Firestore
    ├─ poweruser → service/apply.html → 提交表單
    ├─ admin → admin/users.html → 管理角色
    └─ superadmin → admin/dashboard.html → 檢視報表
```

## **9. 尚待補填項目**

- 🔴上傳 Storage 權限設定（若啟用上傳功能）
- 🔴決定 checkin 畫面定位精度（建議 30 公尺）
- 🔴補全 Admin 儀表板統計項目（若需圖表）